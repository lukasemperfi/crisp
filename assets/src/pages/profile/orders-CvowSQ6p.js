import{i as l,a as d,l as m}from"../../../footer-Dv3gA37Q.js";import{i as c}from"../../../dropdown-Etj7YRTy.js";import{i as u}from"../../../breadcrumbs-k0QsKmE3.js";import{i as p}from"../../../profile-section-Lnmzs4iE.js";import{T as y,a as f,c as b}from"../../../helpers-DngjoxpT.js";import{o as w}from"../../../order-rSeCXCmM.js";import{c as g}from"../../../action-cell-B5WQaiIi.js";import{a as h}from"../../../auth-guard-DJIKdLsP.js";import"../../../breadcrumbs-CCIHsRy6.js";const T=[{key:"orderNumber",label:"№ Заказа",type:"text",width:"1fr",align:"left"},{key:"date",label:"Дата",type:"text",width:"1fr"},{key:"itemsCount",label:"Кол-во товаров",type:"text",width:"1fr"},{key:"status",label:"Статус",type:"text",width:"1fr"},{key:"total",label:"Стоимость",type:"currency",width:"1fr",render:t=>b(t.total,"грн.")},{key:"actions",label:"Функции",type:"component",width:"1fr",render:t=>g(t)}];document.addEventListener("DOMContentLoaded",async()=>{await h();const t=document.querySelector(".profile-section__content");c({selector:".top-header__lang"}),l(),u(),p(),d(),m(".lazy",{rootMargin:"200px 0px"});const e=await w.getOrders(),a=C(e);e.length===0?t.innerHTML='<div class="table__empty-message" style="height: 100%">У вас нет заказов!</div>':_({container:t,columns:T,rows:a})});function _({container:t,columns:e=[],rows:a=[],footer:o={},showHeader:n=!0}){t.innerHTML="";const r=document.createElement("div");r.classList.add("orders-table");const i=new y(a),s={columns:e,rows:i.getRows(),totalAmount:i.calculateTotalAmount(),footer:o,showHeader:n};new f(r,s),t.appendChild(r)}function C(t){return t.map(e=>{const o=new Date(e.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});return{id:e.id,orderNumber:e.order_number,date:o,itemsCount:e.order_items.reduce((n,r)=>n+r.quantity,0),status:e.status,total:e.total_amount}})}
