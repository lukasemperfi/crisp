import{i as l,a as d,l as m}from"../../../footer-hohNfXYL.js";import{i as c}from"../../../dropdown-Etj7YRTy.js";import{i as u}from"../../../breadcrumbs-Un-TCqts.js";import{i as p}from"../../../profile-section-Lnmzs4iE.js";import{T as y,a as f,c as b}from"../../../helpers-DngjoxpT.js";import{o as w}from"../../../order-BajCzr2X.js";import{c as g}from"../../../action-cell-Dkf7y8xc.js";import{a as h}from"../../../breadcrumbs-BENUYkyx.js";const T=[{key:"orderNumber",label:"№ Заказа",type:"text",width:"1fr",align:"left"},{key:"date",label:"Дата",type:"text",width:"1fr"},{key:"itemsCount",label:"Кол-во товаров",type:"text",width:"1fr"},{key:"status",label:"Статус",type:"text",width:"1fr"},{key:"total",label:"Стоимость",type:"currency",width:"1fr",render:e=>b(e.total,"грн.")},{key:"actions",label:"Функции",type:"component",width:"1fr",render:e=>g(e)}];document.addEventListener("DOMContentLoaded",async()=>{await h();const e=document.querySelector(".profile-section__content");c({selector:".top-header__lang"}),l(),u(),p(),d(),m(".lazy",{rootMargin:"200px 0px"});const t=await w.getOrders(),a=C(t);t.length===0?e.innerHTML='<div class="table__empty-message" style="height: 100%">У вас нет заказов!</div>':_({container:e,columns:T,rows:a})});function _({container:e,columns:t=[],rows:a=[],footer:o={},showHeader:n=!0}){e.innerHTML="";const r=document.createElement("div");r.classList.add("orders-table");const i=new y(a),s={columns:t,rows:i.getRows(),totalAmount:i.calculateTotalAmount(),footer:o,showHeader:n};new f(r,s),e.appendChild(r)}function C(e){return e.map(t=>{const o=new Date(t.created_at).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});return{id:t.id,orderNumber:t.order_number,date:o,itemsCount:t.order_items.reduce((n,r)=>n+r.quantity,0),status:t.status,total:t.total_amount}})}
