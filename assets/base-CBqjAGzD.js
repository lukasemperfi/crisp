import{S as ne,m as x,c as ie,s as se,d as T,f as ae,h as oe,j as w,C as ce}from"./color-CyiGwVGT.js";const qe=(r,e)=>new ne(r,{...e}),le='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Ne({swiper:r,extendParams:e,on:t,emit:n}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,prevEl:null};function i(l){let o;return l&&typeof l=="string"&&r.isElement&&(o=r.el.querySelector(l)||r.hostEl.querySelector(l),o)?o:(l&&(typeof l=="string"&&(o=[...document.querySelectorAll(l)]),r.params.uniqueNavElements&&typeof l=="string"&&o&&o.length>1&&r.el.querySelectorAll(l).length===1?o=r.el.querySelector(l):o&&o.length===1&&(o=o[0])),l&&!o?l:o)}function s(l,o){const f=r.params.navigation;l=x(l),l.forEach(u=>{u&&(u.classList[o?"add":"remove"](...f.disabledClass.split(" ")),u.tagName==="BUTTON"&&(u.disabled=o),r.params.watchOverflow&&r.enabled&&u.classList[r.isLocked?"add":"remove"](f.lockClass))})}function a(){const{nextEl:l,prevEl:o}=r.navigation;if(r.params.loop){s(o,!1),s(l,!1);return}s(o,r.isBeginning&&!r.params.rewind),s(l,r.isEnd&&!r.params.rewind)}function c(l){l.preventDefault(),!(r.isBeginning&&!r.params.loop&&!r.params.rewind)&&(r.slidePrev(),n("navigationPrev"))}function d(l){l.preventDefault(),!(r.isEnd&&!r.params.loop&&!r.params.rewind)&&(r.slideNext(),n("navigationNext"))}function p(){const l=r.params.navigation;if(r.params.navigation=ie(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(l.nextEl||l.prevEl))return;let o=i(l.nextEl),f=i(l.prevEl);Object.assign(r.navigation,{nextEl:o,prevEl:f}),o=x(o),f=x(f);const u=(_,b)=>{if(_){if(l.addIcons&&_.matches(".swiper-button-next,.swiper-button-prev")&&!_.querySelector("svg")){const v=document.createElement("div");se(v,le),_.appendChild(v.querySelector("svg")),v.remove()}_.addEventListener("click",b==="next"?d:c)}!r.enabled&&_&&_.classList.add(...l.lockClass.split(" "))};o.forEach(_=>u(_,"next")),f.forEach(_=>u(_,"prev"))}function h(){let{nextEl:l,prevEl:o}=r.navigation;l=x(l),o=x(o);const f=(u,_)=>{u.removeEventListener("click",_==="next"?d:c),u.classList.remove(...r.params.navigation.disabledClass.split(" "))};l.forEach(u=>f(u,"next")),o.forEach(u=>f(u,"prev"))}t("init",()=>{r.params.navigation.enabled===!1?y():(p(),a())}),t("toEdge fromEdge lock unlock",()=>{a()}),t("destroy",()=>{h()}),t("enable disable",()=>{let{nextEl:l,prevEl:o}=r.navigation;if(l=x(l),o=x(o),r.enabled){a();return}[...l,...o].filter(f=>!!f).forEach(f=>f.classList.add(r.params.navigation.lockClass))}),t("click",(l,o)=>{let{nextEl:f,prevEl:u}=r.navigation;f=x(f),u=x(u);const _=o.target;let b=u.includes(_)||f.includes(_);if(r.isElement&&!b){const v=o.path||o.composedPath&&o.composedPath();v&&(b=v.find(S=>f.includes(S)||u.includes(S)))}if(r.params.navigation.hideOnClick&&!b){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===_||r.pagination.el.contains(_)))return;let v;f.length?v=f[0].classList.contains(r.params.navigation.hiddenClass):u.length&&(v=u[0].classList.contains(r.params.navigation.hiddenClass)),n(v===!0?"navigationShow":"navigationHide"),[...f,...u].filter(S=>!!S).forEach(S=>S.classList.toggle(r.params.navigation.hiddenClass))}});const m=()=>{r.el.classList.remove(...r.params.navigation.navigationDisabledClass.split(" ")),p(),a()},y=()=>{r.el.classList.add(...r.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(r.navigation,{enable:m,disable:y,update:a,init:p,destroy:h})}function de(r){const{effect:e,swiper:t,on:n,setTranslate:i,setTransition:s,overwriteParams:a,perspective:c,recreateShadows:d,getEffectParams:p}=r;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),c&&c()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const m=a?a():{};Object.assign(t.params,m),Object.assign(t.originalParams,m)}),n("setTranslate _virtualUpdated",()=>{t.params.effect===e&&i()}),n("setTransition",(m,y)=>{t.params.effect===e&&s(y)}),n("transitionEnd",()=>{if(t.params.effect===e&&d){if(!p||!p().slideShadows)return;t.slides.forEach(m=>{m.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(y=>y.remove())}),d()}});let h;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(h=!0),requestAnimationFrame(()=>{h&&t.slides&&t.slides.length&&(i(),h=!1)}))})}function fe(r,e){const t=T(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function U(r,e,t){const n=`swiper-slide-shadow${t?`-${t}`:""}${` swiper-slide-shadow-${r}`}`,i=T(e);let s=i.querySelector(`.${n.split(" ").join(".")}`);return s||(s=ae("div",n.split(" ")),i.append(s)),s}function Ie({swiper:r,extendParams:e,on:t}){e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),de({effect:"coverflow",swiper:r,on:t,setTranslate:()=>{const{width:s,height:a,slides:c,slidesSizesGrid:d}=r,p=r.params.coverflowEffect,h=r.isHorizontal(),m=r.translate,y=h?-m+s/2:-m+a/2,l=h?p.rotate:-p.rotate,o=p.depth,f=oe(r);for(let u=0,_=c.length;u<_;u+=1){const b=c[u],v=d[u],S=b.swiperSlideOffset,H=(y-S-v/2)/v,E=typeof p.modifier=="function"?p.modifier(H):H*p.modifier;let M=h?l*E:0,k=h?0:l*E,q=-o*Math.abs(E),C=p.stretch;typeof C=="string"&&C.indexOf("%")!==-1&&(C=parseFloat(p.stretch)/100*v);let N=h?0:C*E,I=h?C*E:0,A=1-(1-p.scale)*Math.abs(E);Math.abs(I)<.001&&(I=0),Math.abs(N)<.001&&(N=0),Math.abs(q)<.001&&(q=0),Math.abs(M)<.001&&(M=0),Math.abs(k)<.001&&(k=0),Math.abs(A)<.001&&(A=0);const te=`translate3d(${I}px,${N}px,${q}px)  rotateX(${f(k)}deg) rotateY(${f(M)}deg) scale(${A})`,re=fe(p,b);if(re.style.transform=te,b.style.zIndex=-Math.abs(Math.round(E))+1,p.slideShadows){let L=h?b.querySelector(".swiper-slide-shadow-left"):b.querySelector(".swiper-slide-shadow-top"),$=h?b.querySelector(".swiper-slide-shadow-right"):b.querySelector(".swiper-slide-shadow-bottom");L||(L=U("coverflow",b,h?"left":"top")),$||($=U("coverflow",b,h?"right":"bottom")),L&&(L.style.opacity=E>0?E:0),$&&($.style.opacity=-E>0?-E:0)}}},setTransition:s=>{r.slides.map(c=>T(c)).forEach(c=>{c.style.transitionDuration=`${s}ms`,c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${s}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}class ue{getAllProducts=async(e={})=>await pe._getFilteredProducts(e);getProductById=async e=>{if(!e)throw new Error("Product ID is required");const{data:t,error:n}=await w.from("products").select(`
        *,
        brand:brands (*),
        images:product_images (*),
        length:product_lengths (*),
        variants:product_variants (
          id, 
          stock, 
          color:product_colors (*), 
          size:product_sizes (*)
        ),
        tags:product_tags_mapping (
          tag:product_tags (*)
        )
      `).eq("id",e).single();if(n)throw console.error("Error fetching product:",n.message),n;return t};getFeaturedProducts=async(e={})=>await this._getFilteredProducts(e,"is_featured");getPopularProducts=async(e={})=>await this._getFilteredProducts(e,"is_popular");_getFilteredProducts=async(e={},t=null)=>{const{brand:n=[],size:i=[],color:s=[],length:a=[],tag:c=[],price:d={},sort:p=null,page:h=0,limit:m=8}=e,y=h*m,l=y+m-1;let o=w.from("products").select(`
      *,
      brand:brands (*),
      images:product_images (*),
      length:product_lengths (*),
      variants:product_variants!inner (
        id, stock, color:product_colors (*), size:product_sizes (*)
      ),
      tags:product_tags_mapping!inner (
        tag:product_tags (*)
      )
    `,{count:"exact"}).range(y,l);switch(t&&(o=o.eq(t,!0)),n.length&&(o=o.in("brand_id",n)),i.length&&(o=o.in("variants.size_id",i)),s.length&&(o=o.in("variants.color_id",s)),a.length&&(o=o.in("length_id",a)),c.length&&(o=o.in("product_tags_mapping.tag_id",c)),d.min!=null&&(o=o.gte("final_price",d.min)),d.max!=null&&(o=o.lte("final_price",d.max)),p){case"price_asc":o=o.order("final_price",{ascending:!0});break;case"price_desc":o=o.order("final_price",{ascending:!1});break;case"new":default:o=o.order("created_at",{ascending:!1});break}o=o.order("id",{ascending:!0});const{data:f,error:u,count:_}=await o;if(u)throw u;return{data:f,count:_}}}const pe=new ue;class _e{getTags=async()=>{const{data:e,error:t}=await w.from("product_tags").select("id, name, sort_order").order("sort_order",{ascending:!0});if(t)throw console.error("Error fetching tags:",t),t;return e};getFilters=async()=>{try{const[e,t,n,i,s,a]=await Promise.all([w.from("brands").select("*").order("name"),w.from("product_colors").select("*").order("name"),w.from("product_sizes").select("*").order("sort_order"),w.from("product_lengths").select("*").order("sort_order"),this.getTags(),w.rpc("get_price_range")]);return{brands:e.data,colors:t.data,sizes:n.data,tags:s,lengths:i.data,priceRange:a.data}}catch(e){console.error(e)}}}const Ae=new _e,he="/crisp/";function me(r){const{id:e,name:t,brand:n,base_price:i,discount_percent:s,images:a=[],variants:c,tags:d}=r,p=d&&d.length>0?d[0].tag.name:"Uncategorized",h=a.find(_=>_.is_main)||a[0],m=s>0,y=m?i*(1-s/100):i,l=m?i:null,o=s,f=document.createElement("div");f.className="product-card",f.innerHTML=`
    ${m?`<div class="product-card__badge">-${o}%</div>`:""}


    <div class="product-card__image">
        <img
          class="product-card__image"
          src="${h?.image_path_jpg||""}"
          loading="eager"
          alt="${t}"
          fetchpriority="high"
        >
    </div>

    <div class="product-card__category">${p}</div>
    <a href="${he}product/" class="product-card__name">${t}</a>
    <div class="product-card__price price">
      <div class="price__current">
        ${D(y)}
      </div>
      ${m?`<div class="price__old">${D(l)}</div>`:""}
    </div>
    <div class="product-card__color"></div
  `;const u=[...new Map(c.map(_=>[_.color.id,{..._.color,available:!0}])).values()];return ce(f.querySelector(".product-card__color"),{colors:u,showTitle:!1,selectionMode:"single"}),f}function D(r,e="EUR",t="de-DE"){return new Intl.NumberFormat(t,{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}class Pe{constructor(e,t=[],n,i=!1){if(this._container=typeof e=="string"?document.querySelector(e):e,!this._container)throw new Error("ProductList: container not found");this._onLoadMore=n,this._products=[],this._showEmptyMessageOnInit=i,this._initialized=!1,t.length>0?(this._renderStructure(),this.appendProducts(t)):this._showEmptyMessageOnInit&&(this._renderStructure(),this._renderEmptyMessage())}_renderStructure(){if(this._initialized)return;this._container.innerHTML="",this._wrapper=document.createElement("div"),this._wrapper.className="catalog",this._wrapper.innerHTML=`
      <div class="catalog__list"></div>
      <div class="catalog__actions">
        <button type="button" class="button button_outlined button_gray catalog__more-button">
          Load more
        </button>
      </div>
    `,this._list=this._wrapper.querySelector(".catalog__list"),this._btnWrapper=this._wrapper.querySelector(".catalog__actions"),this._btn=this._wrapper.querySelector(".catalog__more-button"),this._loader=document.createElement("div"),this._loader.className="catalog__loader",this._loader.style.display="none",this._loader.innerHTML='<div class="spinner"></div>',this._btnWrapper.appendChild(this._loader);const e=document.createElement("style");e.textContent=`
      .catalog__loader {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px 0;
      }
      .spinner {
        width: 20px;
        height: 20px;
        border: 3px solid rgba(0,0,0,0.2);
        border-top-color: rgba(0,0,0,0.8);
        border-radius: 50%;
        animation: spin 0.6s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg);}
        100% { transform: rotate(360deg);}
      }
    `,document.head.appendChild(e),this._btn.addEventListener("click",()=>{typeof this._onLoadMore=="function"&&(this.showLoader(),this._onLoadMore().finally(()=>{this.hideLoader()}))}),this._container.appendChild(this._wrapper),this._initialized=!0}appendProducts(e){if(!e||e.length===0){this._renderStructure(),this._renderEmptyMessage();return}this._initialized||this._renderStructure(),this._hideEmptyMessage(),this.showLoadMore();const t=document.createDocumentFragment();e.forEach(n=>{const i=me(n);t.appendChild(i),this._products.push(n)}),this._list.appendChild(t)}clear(){this._list&&(this._list.innerHTML=""),this._products=[],this._hideEmptyMessage()}hideLoadMore(){this._btnWrapper&&(this._btnWrapper.style.display="none"),this._btn&&(this._btn.style.display="none")}showLoadMore(){this._btnWrapper&&(this._btnWrapper.style.display=""),this._btn&&(this._btn.style.display="")}getProducts(){return[...this._products]}_renderEmptyMessage(){this._emptyMessage||(this._emptyMessage=document.createElement("div"),this._emptyMessage.className="catalog__empty",this._emptyMessage.textContent="No products found",this._wrapper.appendChild(this._emptyMessage)),this.hideLoadMore(),this._emptyMessage.style.display=""}_hideEmptyMessage(){this._emptyMessage&&(this._emptyMessage.style.display="none")}showLoader(){this._loader&&(this._loader.style.display="",this._btn.style.display="none")}hideLoader(){this._loader&&(this._loader.style.display="none",this._btn.style.display="")}setLoadMoreHandler(e){this._onLoadMore=e}}class ge{constructor(e,t,n={}){if(this._container=typeof e=="string"?document.querySelector(e):e,!this._container)throw new Error("FilterPanel: container not found");this._config=t,this._state={},this._listeners={change:[],apply:[]},this._showSelectedFilters=n.showSelectedFilters!==!1,this._showApplyButton=n.showApplyButton!==!1,this._handleChange=this._onChange.bind(this),this._handleClick=this._onClick.bind(this),this._renderPanel(),this._applyDefaultValues(),this._bindEvents()}getFilters(){return structuredClone(this._state)}onChange(e){this._listeners.change.push(e)}onApply(e){this._listeners.apply.push(e)}reset(){this._state={},this._container.querySelectorAll("input[type='checkbox']").forEach(e=>e.checked=!1),this._container.querySelectorAll(".price-range").forEach(e=>{const t=e.querySelector(".price-range__input_min"),n=e.querySelector(".price-range__input_max");t&&n&&(t.value=t.min,n.value=n.max,this._updatePriceRangeUI(e))}),this._renderSelectedFilters(),this._emit("change")}destroy(){this._panel.removeEventListener("change",this._handleChange),this._panel.removeEventListener("click",this._handleClick)}_emit(e){const t=this.getFilters();this._listeners[e].forEach(n=>n(t))}_bindEvents(){this._panel.addEventListener("change",this._handleChange),this._panel.addEventListener("click",this._handleClick)}_onClick(e){e.target.closest(".filter-panel__apply-btn")&&this._emit("apply")}_onChange(e){const t=e.target;if(t){if(t.type==="checkbox"){if(!t.name)return;this._updateCheckbox(t)}t.type==="range"&&this._updateRange(t),this._renderSelectedFilters(),this._emit("change")}}_updateCheckbox(e){const{name:t,value:n,checked:i}=e,a=this._config.find(d=>d.id===t)?.singleSelect===!0;Array.isArray(this._state[t])||(this._state[t]=[]);const c=isNaN(n)?n:Number(n);if(i)if(a){const d=this._container.querySelector(`[data-filter-id="${t}"]`);d&&d.querySelectorAll("input[type='checkbox']").forEach(p=>{p!==e&&(p.checked=!1)}),this._state[t]=[c]}else this._state[t].includes(c)||this._state[t].push(c);else this._state[t]=this._state[t].filter(d=>d!==c);this._state[t].length===0&&delete this._state[t]}_updateRange(e){const t=e.closest(".price-range");if(!t)return;const n=t.dataset.filterId;if(!n)return;const i=t.querySelector(".price-range__input_min"),s=t.querySelector(".price-range__input_max");!i||!s||(this._state[n]={min:parseFloat(parseFloat(i.value).toFixed(2)),max:parseFloat(parseFloat(s.value).toFixed(2))})}_renderPanel(){this._container.innerHTML="",this._panel=document.createElement("div"),this._panel.className="filter-panel";const e=document.createElement("div");e.className="filter-panel__selected";const t=document.createElement("div");t.className="filter-panel__filters",this._config.forEach(n=>{const i=this._createFilterContent(n),s=this._createFilterItem({title:n.title,content:i,isOpen:n.defaultOpen,accordion:n.accordion!==!1});t.appendChild(s)}),this._showApplyButton&&t.appendChild(this._createApplyButton()),this._panel.appendChild(e),this._panel.appendChild(t),this._container.appendChild(this._panel)}_applyDefaultValues(){this._config.forEach(e=>{if(e.defaultValue&&(Array.isArray(e.defaultValue)&&e.defaultValue.forEach(t=>{const n=this._container.querySelector(`input[name="${e.id}"][value="${t}"]`);n&&(n.checked=!0,this._updateCheckbox(n))}),typeof e.defaultValue=="object")){const t=this._container.querySelector(`[data-filter-id="${e.id}"]`);if(!t)return;const n=t.querySelector(".price-range__input_min"),i=t.querySelector(".price-range__input_max");n&&i&&(n.value=e.defaultValue.min,i.value=e.defaultValue.max,this._updateRange(n),t.dispatchEvent(new Event("input")))}}),this._renderSelectedFilters()}_createApplyButton(e="APPLY"){const t=document.createElement("div");t.className="filter-panel__footer";const n=document.createElement("button");return n.classList.add("button","button_elevated","button_gray","filter-panel__apply-btn"),n.textContent=e,t.appendChild(n),t}_createAccordionItem({title:e,content:t,isOpen:n}){const i=document.createElement("div");return i.className="filter-panel__item filter-item",n&&i.classList.add("filter-item_is-open"),i.innerHTML=`
      <div class="filter-item__header">
        <h3 class="filter-item__title">${e}</h3>
        <span class="filter-item__icon"></span>
      </div>
      <div class="filter-item__body">
        <div class="filter-item__content"></div>
      </div>
    `,i.querySelector(".filter-item__content").appendChild(t),i.querySelector(".filter-item__header").addEventListener("click",()=>{i.classList.toggle("filter-item_is-open")}),i}_createStaticItem({title:e,content:t}){const n=document.createElement("div");return n.className="filter-panel__item filter-item filter-item_static",n.innerHTML=`
      <div class="filter-item__title">${e}</div>
      <div class="filter-item__body">
        <div class="filter-item__content"></div>
    </div>
    `,n.querySelector(".filter-item__content").appendChild(t),n}_createFilterItem({title:e,content:t,isOpen:n=!0,accordion:i=!0}){return i?this._createAccordionItem({title:e,content:t,isOpen:n}):this._createStaticItem({title:e,content:t})}_createFilterContent(e){const n={"checkbox-list":this._createCheckboxList,"size-grid":this._createSizeGrid,"color-grid":this._createColorGrid,"price-range":this._createPriceRange}[e.type];if(!n)return document.createElement("div");const i=n.call(this,e);return i.dataset.filterId=e.id,i}_createCheckboxList(e){const t=document.createElement("div");return t.className="filter-checkbox-list",e.options.forEach(n=>{const i=document.createElement("label");i.className="filter-checkbox-list__label-wrapper",i.innerHTML=`
          <input type="checkbox" class="filter-checkbox-list__input" name="${e.id}" value="${n.id}">
          <span class="filter-checkbox-list__box"></span> <span class="filter-checkbox-list__label">${n.name}</span>
        `,t.appendChild(i)}),t}_createSelectionGrid(e,t,n=!1){const i=document.createElement("div");return i.className=t,e.options.forEach(s=>{const a=document.createElement("label");a.className=`${t}__item`;const c=(s.hex_code||"").toLowerCase(),d=c==="#ffffff"||c==="#fff"||c==="white",p=n?`style="background-color: ${s.hex_code}"`:"",h=n&&d?`${t}__box_is-white`:"";a.innerHTML=`
          <input type="checkbox" class="${t}__input" name="${e.id}" value="${s.id}">
          <span class="${t}__box ${h}" ${p}>${n?"":s.name}</span>
        `,i.appendChild(a)}),i}_createSizeGrid(e){return this._createSelectionGrid(e,"size-grid")}_createColorGrid(e){return this._createSelectionGrid(e,"color-grid",!0)}_createPriceRange(e){const t=document.createElement("div");t.className="price-range";const n=e.options[0],i=n.min||0,s=n.max||1e3,a=10;t.innerHTML=`
        <div class="price-range__values">
          <span class="price-range__value price-range__value_min"></span>
          <span class="price-range__value price-range__value_max"></span>
        </div>
        <div class="price-range__slider">
          <div class="price-range__track"></div>
          <input type="range" class="price-range__input price-range__input_min" min="${i}" max="${s}" value="${i}" step="any">
          <input type="range" class="price-range__input price-range__input_max" min="${i}" max="${s}" value="${s}" step="any">
        </div>
      `;const c=t.querySelector(".price-range__input_min"),d=t.querySelector(".price-range__input_max"),p=t.querySelector(".price-range__value_min"),h=t.querySelector(".price-range__value_max"),m=t.querySelector(".price-range__track"),y=l=>{let o=parseFloat(c.value),f=parseFloat(d.value);f-o<a&&(l?.target.classList.contains("price-range__input_min")?(o=f-a,c.value=o):(f=o+a,d.value=f));let u=Math.round(o/a)*a,_=Math.round(f/a)*a;u=Math.max(i,Math.min(s,u)),_=Math.max(i,Math.min(s,_)),f-o<=a&&(l?.target.classList.contains("price-range__input_min")?u=_-a:_=u+a),p.textContent=`${u.toFixed(2)} EUR`,h.textContent=`${_.toFixed(2)} EUR`;const b=(o-i)/(s-i)*100,v=(f-i)/(s-i)*100;m.style.left=b+"%",m.style.right=100-v+"%"};return t.addEventListener("input",y),t.addEventListener("change",()=>{const l=Math.round(c.value/a)*a,o=Math.round(d.value/a)*a;c.value=l.toFixed(2),d.value=o.toFixed(2),y()}),y(),t}_updatePriceRangeUI(e){const t=e.querySelector(".price-range__input_min"),n=e.querySelector(".price-range__input_max"),i=e.querySelector(".price-range__value_min"),s=e.querySelector(".price-range__value_max"),a=e.querySelector(".price-range__track"),c=parseFloat(t.min),d=parseFloat(n.max);i.textContent=`${c.toFixed(2)} EUR`,s.textContent=`${d.toFixed(2)} EUR`,a.style.left="0%",a.style.right="0%"}_renderSelectedFilters(){const e=this._container.querySelector(".filter-panel__selected");if(e.innerHTML="",!this._showSelectedFilters){e.style.display="none";return}const t=this.getFilters();if(Object.keys(t).length===0){e.style.display="none";return}e.style.display="block";const i=this._createSelectedFiltersWrapper(),s=this._createSelectedFiltersHeader(),a=this._createSelectedFiltersList(t);i.appendChild(s),i.appendChild(a),e.appendChild(i)}_createSelectedFiltersWrapper(){const e=document.createElement("div");return e.className="selected-filters",e}_createSelectedFiltersHeader(){const e=document.createElement("div");return e.className="selected-filters__header",e.innerHTML=`
    <div class="selected-filters__title">Filter</div>
    <button class="selected-filters__reset-btn">${this._closeIcon()} reset all</button>
  `,e.querySelector(".selected-filters__reset-btn").addEventListener("click",()=>this.reset()),e}_createSelectedFiltersList(e){const t=document.createElement("div");t.className="selected-filters__main";const n=document.createElement("div");return n.className="selected-filters__list",Object.keys(e).forEach(i=>{const s=this._createSelectedFilterItem(i,e[i]);n.appendChild(s)}),t.appendChild(n),t}_createSelectedFilterItem(e,t){const n=document.createElement("div");n.className="selected-filters__list-item list-item";const i=document.createElement("div");i.className="list-item__title";const s=this._config.find(c=>c.id===e);i.textContent=s?.title||e,n.appendChild(i);const a=document.createElement("div");return a.className="list-item__values values",Array.isArray(t)?t.forEach(c=>{a.appendChild(this._createSelectedFilterValue(e,c))}):typeof t=="object"&&a.appendChild(this._createSelectedFilterRange(e,t)),n.appendChild(a),n}_createSelectedFilterValue(e,t){const n=this._config.find(a=>a.id===e),i=n?.type==="color-grid",s=document.createElement("div");if(s.className="values__item",i){const c=n.options.find(h=>h.id===t)?.hex_code.toLowerCase()||"#000",p=c=="#ffffff"||c=="#fff"||c=="white"?"color-grid__box_is-white":"";s.innerHTML=`
     <button class="values__item-remove-btn">${this._closeIcon()}<div class="color-grid__item">
          <span class="color-grid__box color-grid__box_selected-secondary ${p}" style="background-color: ${c}"></span>
      </div></button>

    `}else s.innerHTML=`
      <button class="values__item-remove-btn">${this._closeIcon()}<div class="values__label">${this._getOptionLabel(e,t)}</div></button>
      
    `;return s.querySelector(".values__item-remove-btn").addEventListener("click",()=>this._removeSelectedFilter(e,t)),s}_createSelectedFilterRange(e,t){const n=document.createElement("div");return n.className="values__item",n.innerHTML=`
    <button class="values__item-remove-btn">${this._closeIcon()}
    <div class="values__label">${t.min} - ${t.max} EUR</div><button class="values__item-remove-btn">
  `,n.querySelector(".values__item-remove-btn").addEventListener("click",()=>this._removeSelectedFilter(e)),n}_getOptionLabel(e,t){const n=this._config.find(s=>s.id===e);return!n||!n.options?t:n.options.find(s=>s.id===t)?.name||t}_removeSelectedFilter(e,t=null){const n=this._container.querySelector(`[data-filter-id="${e}"]`);if(n){if(t!==null){const i=n.querySelector(`input[value="${t}"]`);i&&(i.checked=!1,this._updateCheckbox(i))}else{const i=n.querySelector(".price-range__input_min"),s=n.querySelector(".price-range__input_max");i&&s&&(i.value=i.min,s.value=s.max,delete this._state[e],this._updatePriceRangeUI(n))}this._renderSelectedFilters(),this._emit("change")}}_closeIcon(e=""){return`
    <svg class="selected-filters__icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="-0.15 -0.15 9.49 9.49"><path d="M8.83887 0.353516L0.353586 8.8388" stroke="black"></path><path d="M8.83887 8.83887L0.353587 0.353585" stroke="black"></path></svg>
    `}}function Oe(r,e,t){const{showAboutDresses:n=!0,...i}=t,s=typeof r=="string"?document.querySelector(r):r;if(!s)throw new Error("FiltersBar: container not found");s.innerHTML=`
    <div class="filters-bar">
      <button class="filters-bar__toggle">
        <span class="filters-bar__value">Filter</span>
       ${be("filters-bar__icon")}
      </button>
      <div class="filters-bar__content">
        <div class="filters-bar__filters"></div>
        <div class="filters-bar__category-description"></div>
      </div>
    </div>
  `;const a=s.querySelector(".filters-bar"),c=new ge(a.querySelector(".filters-bar__filters"),e,i);return n&&ye(a.querySelector(".filters-bar__category-description")),a.querySelector(".filters-bar__toggle").addEventListener("click",()=>{a.classList.toggle("filters-bar_is-open")}),c}function ye(r,e={}){const{className:t=""}=e,n=typeof r=="string"?document.querySelector(r):r;if(!n)throw new Error("AboutDresses: container not found");(()=>{n.innerHTML=`
        <div class="about-dresses ${t}">
          <h3 class="about-dresses__title">About Dresses</h3>
          <p class="about-dresses__text">
            Every day we’re gonna be dropping the latest trends to help you nail every Summer sitch. Whether it’s a
            graduation, your mate's wedding, or just a cute day at the races with the gals, our occasion dresses
            have got you covered. Not looking for something fancy? No stress. We’ve got day dresses for days (aka
            bodycon dresses, t-shirt dresses, oversized shirt dresses).
          </p>
        </div>
      `})()}function be(r=""){return`
  <svg class="${r}" width="9" height="6" viewBox="0 0 9 6" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M0.353516 0.353516L4.35352 4.35352L8.35352 0.353516" stroke="black" />
  </svg>
  `}const W="%[a-f0-9]{2}",z=new RegExp("("+W+")|([^%]+?)","gi"),B=new RegExp("("+W+")+","gi");function P(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;const t=r.slice(0,e),n=r.slice(e);return Array.prototype.concat.call([],P(t),P(n))}function ve(r){try{return decodeURIComponent(r)}catch{let e=r.match(z)||[];for(let t=1;t<e.length;t++)r=P(e,t).join(""),e=r.match(z)||[];return r}}function Ee(r){const e={"%FE%FF":"��","%FF%FE":"��"};let t=B.exec(r);for(;t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{const i=ve(t[0]);i!==t[0]&&(e[t[0]]=i)}t=B.exec(r)}e["%C2"]="�";const n=Object.keys(e);for(const i of n)r=r.replace(new RegExp(i,"g"),e[i]);return r}function xe(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return decodeURIComponent(r)}catch{return Ee(r)}}function Se(r,e){const t={};if(Array.isArray(e))for(const n of e){const i=Object.getOwnPropertyDescriptor(r,n);i?.enumerable&&Object.defineProperty(t,n,i)}else for(const n of Reflect.ownKeys(r)){const i=Object.getOwnPropertyDescriptor(r,n);if(i.enumerable){const s=r[n];e(n,s,r)&&Object.defineProperty(t,n,i)}}return t}function G(r,e){if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(r===""||e==="")return[];const t=r.indexOf(e);return t===-1?[]:[r.slice(0,t),r.slice(t+e.length)]}const we=r=>r==null,Fe=r=>encodeURIComponent(r).replaceAll(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),O=Symbol("encodeFragmentIdentifier");function Ce(r){switch(r.arrayFormat){case"index":return e=>(t,n)=>{const i=t.length;return n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[g(e,r),"[",i,"]"].join("")]:[...t,[g(e,r),"[",g(i,r),"]=",g(n,r)].join("")]};case"bracket":return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[g(e,r),"[]"].join("")]:[...t,[g(e,r),"[]=",g(n,r)].join("")];case"colon-list-separator":return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,[g(e,r),":list="].join("")]:[...t,[g(e,r),":list=",g(n,r)].join("")];case"comma":case"separator":case"bracket-separator":{const e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(n,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[g(t,r),e,g(i,r)].join("")]:[[n,g(i,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?t:n===null?[...t,g(e,r)]:[...t,[g(e,r),"=",g(n,r)].join("")]}}function Le(r){let e;switch(r.arrayFormat){case"index":return(t,n,i)=>{if(e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!e){i[t]=n;return}i[t]===void 0&&(i[t]={}),i[t][e[1]]=n};case"bracket":return(t,n,i)=>{if(e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!e){i[t]=n;return}if(i[t]===void 0){i[t]=[n];return}i[t]=[...i[t],n]};case"colon-list-separator":return(t,n,i)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){i[t]=n;return}if(i[t]===void 0){i[t]=[n];return}i[t]=[...i[t],n]};case"comma":case"separator":return(t,n,i)=>{const a=typeof n=="string"&&n.includes(r.arrayFormatSeparator)?n.split(r.arrayFormatSeparator).map(c=>F(c,r)):n===null?n:F(n,r);i[t]=a};case"bracket-separator":return(t,n,i)=>{const s=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!s){i[t]=n&&F(n,r);return}const a=n===null?[]:F(n,r).split(r.arrayFormatSeparator);if(i[t]===void 0){i[t]=a;return}i[t]=[...i[t],...a]};default:return(t,n,i)=>{if(i[t]===void 0){i[t]=n;return}i[t]=[...[i[t]].flat(),n]}}}function K(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(r,e){return e.encode?e.strict?Fe(r):encodeURIComponent(r):r}function F(r,e){return e.decode?xe(r):r}function Y(r){return Array.isArray(r)?r.sort():typeof r=="object"?Y(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function X(r){const e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function $e(r){let e="";const t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function V(r,e,t){return t==="string"&&typeof r=="string"?r:typeof t=="function"&&typeof r=="string"?t(r):t==="boolean"&&r===null?!0:t==="boolean"&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")?r.toLowerCase()==="true":t==="boolean"&&r!==null&&(r.toLowerCase()==="1"||r.toLowerCase()==="0")?r.toLowerCase()==="1":t==="string[]"&&e.arrayFormat!=="none"&&typeof r=="string"?[r]:t==="number[]"&&e.arrayFormat!=="none"&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?[Number(r)]:t==="number"&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")?r.toLowerCase()==="true":e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?Number(r):r}function j(r){r=X(r);const e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function R(r,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...e},K(e.arrayFormatSeparator);const t=Le(e),n=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return n;for(const i of r.split("&")){if(i==="")continue;const s=e.decode?i.replaceAll("+"," "):i;let[a,c]=G(s,"=");a===void 0&&(a=s),c=c===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?c:F(c,e),t(F(a,e),c,n)}for(const[i,s]of Object.entries(n))if(typeof s=="object"&&s!==null&&e.types[i]!=="string")for(const[a,c]of Object.entries(s)){const d=e.types[i],p=typeof d=="function"?d:d?d.replace("[]",""):void 0;s[a]=V(c,e,p)}else typeof s=="object"&&s!==null&&e.types[i]==="string"?n[i]=Object.values(s).join(e.arrayFormatSeparator):n[i]=V(s,e,e.types[i]);return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{const a=n[s];return i[s]=a&&typeof a=="object"&&!Array.isArray(a)?Y(a):a,i},Object.create(null))}function Z(r,e){if(!r)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},K(e.arrayFormatSeparator);const t=a=>e.skipNull&&we(r[a])||e.skipEmptyString&&r[a]==="",n=Ce(e),i={};for(const[a,c]of Object.entries(r))t(a)||(i[a]=c);const s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(a=>{let c=r[a];if(e.replacer&&(c=e.replacer(a,c),c===void 0)||c===void 0)return"";if(c===null)return g(a,e);if(Array.isArray(c)){if(c.length===0&&e.arrayFormat==="bracket-separator")return g(a,e)+"[]";let d=c;return e.replacer&&(d=c.map((p,h)=>e.replacer(`${a}[${h}]`,p)).filter(p=>p!==void 0)),d.reduce(n(a),[]).join("&")}return g(a,e)+"="+g(c,e)}).filter(a=>a.length>0).join("&")}function J(r,e){e={decode:!0,...e};let[t,n]=G(r,"#");return t===void 0&&(t=r),{url:t?.split("?")?.[0]??"",query:R(j(r),e),...e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:F(n,e)}:{}}}function Q(r,e){e={encode:!0,strict:!0,[O]:!0,...e};const t=X(r.url).split("?")[0]||"",n=j(r.url),i={...R(n,{sort:!1,...e}),...r.query};let s=Z(i,e);s&&=`?${s}`;let a=$e(r.url);if(typeof r.fragmentIdentifier=="string"){const c=new URL(t);c.hash=r.fragmentIdentifier,a=e[O]?c.hash:`#${r.fragmentIdentifier}`}return`${t}${s}${a}`}function ee(r,e,t){t={parseFragmentIdentifier:!0,[O]:!1,...t};const{url:n,query:i,fragmentIdentifier:s}=J(r,t);return Q({url:n,query:Se(i,e),fragmentIdentifier:s},t)}function Me(r,e,t){const n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return ee(r,n,t)}const Te=Object.freeze(Object.defineProperty({__proto__:null,exclude:Me,extract:j,parse:R,parseUrl:J,pick:ee,stringify:Z,stringifyUrl:Q},Symbol.toStringTag,{value:"Module"}));export{Ie as E,Oe as F,Ne as N,Pe as P,pe as a,me as c,qe as i,Ae as p,Te as q};
